(()=>{var Gl=Object.create;var k=Object.defineProperty,ol=Object.defineProperties,Rl=Object.getOwnPropertyDescriptor,Ul=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertyNames,K=Object.getOwnPropertySymbols,Fl=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,ml=Object.prototype.propertyIsEnumerable;var q=(e,l,t)=>l in e?k(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,$=(e,l)=>{for(var t in l||(l={}))_.call(l,t)&&q(e,t,l[t]);if(K)for(var t of K(l))ml.call(l,t)&&q(e,t,l[t]);return e},ll=(e,l)=>ol(e,Ul(l));var E=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports);var pl=(e,l,t,d)=>{if(l&&typeof l=="object"||typeof l=="function")for(let a of hl(l))!_.call(e,a)&&a!==t&&k(e,a,{get:()=>l[a],enumerable:!(d=Rl(l,a))||d.enumerable});return e};var tl=(e,l,t)=>(t=e!=null?Gl(Fl(e)):{},pl(l||!e||!e.__esModule?k(t,"default",{value:e,enumerable:!0}):t,e));var r=(e,l,t)=>new Promise((d,a)=>{var i=W=>{try{c(t.next(W))}catch(V){a(V)}},n=W=>{try{c(t.throw(W))}catch(V){a(V)}},c=W=>W.done?d(W.value):Promise.resolve(W.value).then(i,n);c((t=t.apply(e,l)).next())});var el=E((S,j)=>{(function(e){"use strict";var l=function(){},t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(V){return setTimeout(V,16)};function d(){var V=this;V.reads=[],V.writes=[],V.raf=t.bind(e),l("initialized",V)}d.prototype={constructor:d,runTasks:function(V){l("run tasks");for(var b;b=V.shift();)b()},measure:function(V,b){l("measure");var Z=b?V.bind(b):V;return this.reads.push(Z),a(this),Z},mutate:function(V,b){l("mutate");var Z=b?V.bind(b):V;return this.writes.push(Z),a(this),Z},clear:function(V){return l("clear",V),n(this.reads,V)||n(this.writes,V)},extend:function(V){if(l("extend",V),typeof V!="object")throw new Error("expected object");var b=Object.create(this);return c(b,V),b.fastdom=this,b.initialize&&b.initialize(),b},catch:null};function a(V){V.scheduled||(V.scheduled=!0,V.raf(i.bind(null,V)),l("flush scheduled"))}function i(V){l("flush");var b=V.writes,Z=V.reads,G;try{l("flushing reads",Z.length),V.runTasks(Z),l("flushing writes",b.length),V.runTasks(b)}catch(R){G=R}if(V.scheduled=!1,(Z.length||b.length)&&a(V),G)if(l("task errored",G.message),V.catch)V.catch(G);else throw G}function n(V,b){var Z=V.indexOf(b);return!!~Z&&!!V.splice(Z,1)}function c(V,b){for(var Z in b)b.hasOwnProperty(Z)&&(V[Z]=b[Z])}var W=e.fastdom=e.fastdom||new d;typeof j=="object"&&(j.exports=W)})(typeof window!="undefined"?window:typeof S!="undefined"?S:globalThis)});var dl=E((Pl,x)=>{(function(){"use strict";var e=function(){function l(){}l.prototype=Object.create(null);function t(b,Z){for(var G=Z.length,R=0;R<G;++R)W(b,Z[R])}var d={}.hasOwnProperty;function a(b,Z){b[Z]=!0}function i(b,Z){if(Z.toString!==Object.prototype.toString&&!Z.toString.toString().includes("[native code]")){b[Z.toString()]=!0;return}for(var G in Z)d.call(Z,G)&&(b[G]=!!Z[G])}var n=/\s+/;function c(b,Z){for(var G=Z.split(n),R=G.length,h=0;h<R;++h)b[G[h]]=!0}function W(b,Z){if(Z){var G=typeof Z;G==="string"?c(b,Z):Array.isArray(Z)?t(b,Z):G==="object"?i(b,Z):G==="number"&&a(b,Z)}}function V(){for(var b=arguments.length,Z=Array(b),G=0;G<b;G++)Z[G]=arguments[G];var R=new l;t(R,Z);var h=[];for(var o in R)R[o]&&h.push(o);return h.join(" ")}return V}();typeof x!="undefined"&&x.exports?(e.default=e,x.exports=e):window.classNames=e})()});var il=E((al,M)=>{(function(e){var l={browser:[[/msie ([\.\_\d]+)/,"ie"],[/trident\/.*?rv:([\.\_\d]+)/,"ie"],[/firefox\/([\.\_\d]+)/,"firefox"],[/chrome\/([\.\_\d]+)/,"chrome"],[/version\/([\.\_\d]+).*?safari/,"safari"],[/mobile safari ([\.\_\d]+)/,"safari"],[/android.*?version\/([\.\_\d]+).*?safari/,"com.android.browser"],[/crios\/([\.\_\d]+).*?safari/,"chrome"],[/opera/,"opera"],[/opera\/([\.\_\d]+)/,"opera"],[/opera ([\.\_\d]+)/,"opera"],[/opera mini.*?version\/([\.\_\d]+)/,"opera.mini"],[/opios\/([a-z\.\_\d]+)/,"opera"],[/blackberry/,"blackberry"],[/blackberry.*?version\/([\.\_\d]+)/,"blackberry"],[/bb\d+.*?version\/([\.\_\d]+)/,"blackberry"],[/rim.*?version\/([\.\_\d]+)/,"blackberry"],[/iceweasel\/([\.\_\d]+)/,"iceweasel"],[/edge\/([\.\d]+)/,"edge"]],os:[[/linux ()([a-z\.\_\d]+)/,"linux"],[/mac os x/,"macos"],[/mac os x.*?([\.\_\d]+)/,"macos"],[/os ([\.\_\d]+) like mac os/,"ios"],[/openbsd ()([a-z\.\_\d]+)/,"openbsd"],[/android/,"android"],[/android ([a-z\.\_\d]+);/,"android"],[/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/,"firefoxos"],[/windows\s*(?:nt)?\s*([\.\_\d]+)/,"windows"],[/windows phone.*?([\.\_\d]+)/,"windows.phone"],[/windows mobile/,"windows.mobile"],[/blackberry/,"blackberryos"],[/bb\d+/,"blackberryos"],[/rim.*?os\s*([\.\_\d]+)/,"blackberryos"]],device:[[/ipad/,"ipad"],[/iphone/,"iphone"],[/lumia/,"lumia"],[/htc/,"htc"],[/nexus/,"nexus"],[/galaxy nexus/,"galaxy.nexus"],[/nokia/,"nokia"],[/ gt\-/,"galaxy"],[/ sm\-/,"galaxy"],[/xbox/,"xbox"],[/(?:bb\d+)|(?:blackberry)|(?: rim )/,"blackberry"]]},t="Unknown",d=Object.keys(l);function a(){var c=this;d.forEach(function(W){c[W]={name:t,version:[],versionString:t}})}function i(c,W,V){l[W].forEach(function(b){var Z=b[0],G=b[1],R=V.match(Z);R&&(c[W].name=G,R[2]?(c[W].versionString=R[2],c[W].version=[]):R[1]?(c[W].versionString=R[1].replace(/_/g,"."),c[W].version=n(R[1])):(c[W].versionString=t,c[W].version=[]))})}function n(c){return c.split(/[\._]/).map(function(W){return parseInt(W)})}a.prototype.sniff=function(c){var W=this,V=typeof window!="undefined",b=V?navigator.userAgent:"",Z=(c||b).toLowerCase();return d.forEach(function(G){i(W,G,Z)}),this},typeof M!="undefined"&&M.exports?M.exports=a:(e.Sniffr=new a,e.Sniffr.sniff(navigator.userAgent))})(al)});function m(e,l=null){let d=gl(l).querySelectorAll(e);return Array.from(d)}function g(e,l=null){let t=m(e,l);return t.length===0?!1:t[0]}function gl(e){return e||(window.__shadowRoot?window.__shadowRoot.querySelector("article"):document)}window.hasOwnProperty("Shorthand")||(window.Shorthand={});var Bl=tl(el());var Il=tl(dl());var $l=il();var C={getOrientation(){return window.Shorthand.displayContainer?C.getWidth()>C.getHeight()?"landscape":"portrait":window.innerWidth>window.innerHeight?"landscape":"portrait"},getHeight(){return window.Shorthand.displayContainer.getCache().height},getWidth(){return window.Shorthand.displayContainer.getCache().width},getTop(){return window.Shorthand.displayContainer.getCache().top},getBottom(){return window.Shorthand.displayContainer.getCache().bottom},getVhUnitsInPixels(e){return C.getHeight()*(e/100)},getDisplayContainer(){return window.Shorthand.displayContainer}},X=C;var nl={facebook:{networkName:"Facebook",shareAction:"Share",popupWidth:600,popupHeight:420},twitter:{networkName:"Twitter",shareAction:"Tweet",popupWidth:600,popupHeight:250},linkedin:{networkName:"LinkedIn",shareAction:"Share",popupWidth:600,popupHeight:250}};function sl(e,l){let t=Math.round(X.getWidth()/2-l.popupWidth/2),d=0;X.getHeight()>l.popupHeight&&(d=Math.round(X.getHeight()/3-l.popupHeight/2));let a={left:t,top:d,width:l.popupWidth,height:l.popupHeight,personalbar:0,toolbar:0,scrollbars:1,resizable:1},i=Object.keys(a).map(W=>`${W}=${a[W]}`).join(","),n="social-widget-"+l.networkName.replace(/\s+/,"-"),c=window.open(e,n,i);c?c.focus():location.href=e}function rl(e){e.preventDefault();let l=e.currentTarget,t=l.getAttribute("data-social-share"),d=nl[t],a=l.href;sl(a,d)}function Nl(e){let l=e.getAttribute("data-social-share");l in nl?e.addEventListener("click",rl,{passive:!1}):console.error(`Social Share button of type ${l} is not supported.`)}function z(e="[data-social-share]"){m(e).forEach(Nl)}var T=class{constructor({baseUrl:l,componentsBaseUrl:t,publishUrl:d},a,i){this.baseUrl=l,this.publishUrl=d!=null?d:"",this.componentsBaseUrl=t,this.index=a,this.isEmbed="embed"in window.Shorthand,this.search=Yl(a,i==null?void 0:i.search)}isEmbedLink(l){return this.isEmbed&&l.startsWith(this.publishUrl)}getHeaderNavigation(){return this.compileNavigation(this.index.headerNavigation)}getFooterNavigation(){return this.compileNavigation(this.index.footerNavigation)}compileNavigation(l){var d,a,i;let t=l.hasManualItems?l.items:this.index.roots.map(n=>({label:this.index.nodes[n].label,nodeId:n,url:""}));return{isEnabled:l.isEnabled,option:l.option,hasSocials:l.hasSocials,social:l.social,hasSearch:l.hasSearch,showThemeLogos:l.showThemeLogos,logos:((d=l.logos)!=null?d:[]).map(n=>this.compileLogo(n)),color:(a=l.color)!=null?a:void 0,fontColor:(i=l.fontColor)!=null?i:void 0,items:t.reduce((n,c)=>{let W=this.compileNavigationItem(c);return W&&n.push(W),n},[])}}compileLogo(l){let t={media:{}};for(let d of l.media)d.uri&&(t.media[d.sel]={src:this.getProjectUrl(d.uri),alt:d.alt});return l.link&&(t.link=ll($({},l.link),{href:this.getProjectUrl(l.link.href)})),t}compileNavigationItem({label:l,nodeId:t,url:d}){var n,c,W;if(d)return{label:l,url:d,children:[]};let a=this.index.nodes[t];if(!a)return;let i=(c=(n=a.children)==null?void 0:n.reduce((V,b)=>{let Z=this.index.nodes[b];return Z!=null&&Z.page&&V.push({label:Z.label||this.index.pages[Z.page].title||"Untitled story",url:this.getPageUrl(Z.page)}),V},[]))!=null?c:[];return a.page&&(d=this.getPageUrl(a.page)),{label:l||a.label||((W=this.index.pages[a.page])==null?void 0:W.title)||"Untitled story",url:d,children:i}}externalLinkToProjectPage(l){return{pageId:l.id,url:l.url,title:l.title,description:l.description,publishedAt:new Date,tags:[],cover:this._compileCover(l.cover)}}getProjectPage(l,t){var a;let d=this.index.pages[l];if(d)return{pageId:l,url:this.getPageUrl(l),title:t!=null&&t.title?t.title:d.title,description:t!=null&&t.description?t.description:d.description,publishedAt:new Date(d.at),tags:(a=d.tags)!=null?a:[],cover:t!=null&&t.cover?this._compileCover(t.cover):this._compileCover(d.cover,l),colors:d.colors}}_compileCover(l,t){if(l){let{image:d,sources:a=[]}=l!=null?l:{};return{url:t?this.getPageAssetUrl(t,d):d,sources:a.map(({t:i,s:n})=>({type:i,srcSet:n.map(({u:c,w:W})=>{let V=t?this.getPageAssetUrl(t,c):c;return W?`${V} ${W}w`:V}).join(",")}))}}}getProjectPageIds(){return Object.keys(this.index.pages)}getTaggedPageIds(l,t){let d=new Set(l);return Object.keys(this.index.pages).filter(a=>{var n,c;let i=(c=(n=this.index.pages[a])==null?void 0:n.tags)!=null?c:[];return t==="all"?i.filter(W=>d.has(W)).length>=d.size:i.find(W=>d.has(W))})}getSubpageIds(l,t,d,a){t||(t=this.index.pages[d].nodeId),l==="siblings"&&(t=Object.entries(this.index.nodes).reduce((W,[V,b])=>b.children.includes(t)?V:W,t));let i=Object.keys(this.index.nodes).find(W=>this.index.nodes[W].page===d),n=this.index.nodes[t];return this._getChildren(n,l,a?null:i).reduce((W,V)=>{let b=this.index.nodes[V];return b.page?W.concat(b.page):W},[])}_getChildren(l,t,d){if(!l)return[];let a=l.children.filter(i=>i!==d);return t==="descendants"?a.reduce((i,n)=>i.concat(n).concat(this._getChildren(this.index.nodes[n],t,d)),[]):a}getPageAssetUrl(l,t){var i;if(!t)return;let d=this.index.pages[l],a=this.index.nodes[d==null?void 0:d.nodeId];if(!(!d||!a))return/^(https?:\/\/|\/)/.exec(t)?t:this.isEmbed?`${this.publishUrl}${a.uri}${t}`:`${(i=this.componentsBaseUrl)!=null?i:this.baseUrl}${a.uri}${t}`}getPageUrl(l){var i;let t=this.index.pages[l],d=this.index.nodes[t==null?void 0:t.nodeId];if(!t||!d)return;let a=(i=t.uri)!=null?i:`${d.uri}index.html`;return/^(https?:\/\/|\/)/.exec(a)?a:this.isEmbed?`${this.publishUrl}${a}`:`${this.baseUrl}${a}`}getProjectUrl(l){return/^(https?:\/\/|\/)/.exec(l)?l:`${this.baseUrl}${l}`}hasSearch(){var l;return(l=this.index.features.searchEnabled)!=null?l:!1}getSearch(){return r(this,null,function*(){return this.index.features.searchEnabled||console.error("Project search is not enabled."),this.search.then(l=>{if(!l)throw new Error("No search has been loaded");return l})})}};function Yl(e,l){return e.features.searchEnabled&&l?l():(e.features.searchEnabled&&console.error("Project search is enabled but no search extension is provided."),null)}function D(e){var l,t,d;(d=(t=(l=window.Shorthand)==null?void 0:l.analytics)==null?void 0:t.api)!=null&&d.ready&&window.Shorthand.analytics.api.addEvent(e)}function A(e,l){Ql(e,l),Xl(l),document.addEventListener("mousedown",t=>{!l.contains(t.target)&&!e.contains(t.target)&&l.classList.remove("project-search--isActive")},!0)}function Ql(e,l){e.addEventListener("click",t=>{t.preventDefault(),l.classList.add("project-search--isActive")})}function Xl(e){document.querySelector(".project-search-close-button").addEventListener("click",t=>{t.preventDefault(),e.classList.remove("project-search--isActive")})}function J(e){m("a[data-path]",e).forEach(l=>{l.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();let d=l.getAttribute("data-path");window.Shorthand.navigateInProject(d,l.href)})})}function Y(e,l,t){if(e.isEmbedLink(l)){let{path:d,url:a}=Tl(e,l);t.setAttribute("data-path",d),t.href=a}else t.href=l}function Tl(e,l){let t="/"+l.replace(e.publishUrl,"").replace(/\/?index\.html/,""),d=new URL(document.location.href);return d.searchParams.set("shpath",t),{path:t,url:decodeURIComponent(d.toString())}}function cl(e,l,t){return r(this,null,function*(){let d=g(".project-search-button",l),a=g("div[data-project-search-sidebar]",l),i=a&&g("div[data-project-search]",a),n=g("button[data-project-search-close-button]");function c(){d&&d.remove(),a&&a.remove()}return!e.hasSearch()||!t.hasSearch||!d||!a||!i||!n?c():(A(d,a),e.getSearch().then(W=>Jl(e,i,a,n,W)).catch(W=>{console.error(`Could not set up search: ${W}.`),c()}))})}function Jl(e,l,t,d,a){let i=l.querySelector("input[data-item-searchterm]"),n=l.querySelector(".project-search-delete-btn"),c=l.querySelector(".project-search-enter-btn");function W(o){return!c.disabled&&o.length>0}function V(o){return r(this,null,function*(){c.disabled=!0;let I=Date.now(),B=yield a.search(o);return D({id:"project-search:show-results",el:c,data:{termLength:o.length,termWordCount:o.split(" ").filter(Q=>Q).length,searchTime:Date.now()-I,resultsStoryCount:B.length}}),B})}function b(){c.disabled=!1}function Z(o){c.style.display=o?"inline":"none",n.style.display=o?"none":"inline"}function G(o){o.value="",w(t),Z(!1)}function R(o){return r(this,null,function*(){let I=o.value.trim();if(W(I))try{w(t);let B=t.querySelector("template[data-project-search-results-template]"),Q=yield V(I),u=ul(e,Q,B);t.querySelector(".project-sidebar-container").append(u),J(t)}catch(B){console.error(`Error searching project: ${B}`)}finally{Z(!1),b()}})}function h(o){o.value.trim()===""?(Z(!1),w(t)):t.querySelector(".project-search-results")||Z(!0)}i.onkeydown=o=>{o.key==="Enter"&&(o.preventDefault(),R(i))},i.addEventListener("input",()=>{h(i)}),n.onclick=()=>{G(i)},d.onclick=()=>{G(i)},c.onclick=()=>{R(i)}}function w(e){let l=e.querySelector(".project-search-results");l&&l.remove()}function ul(e,l,t){let d=document.createElement("ul");d.className="project-search-results";let a=`
   <li class="no-result-list--item">
      <span class="no-results-heading"> No matching results </span>
      <span>You could try: </span>
  
      <span class="search-options">related, or more general words</span>
      <span class="search-options">alternate spelling</span>
    </li>
  `;return"content"in t&&l.length>0?l.forEach((i,n)=>{d.append(xl(e,i,n,t))}):d.innerHTML=a,d}function xl(e,l,t,d){var Z,G,R,h,o,I;let a=e.getProjectPage(l.getPageId()),i=l.getSnippet(),n=document.createElement("li");n.className="project-story-list-item";let c=d==null?void 0:d.content.cloneNode(!0),W=c.querySelector(".project-image-link");Y(e,a.url,W),W.addEventListener("click",()=>{D({id:"project-search:select-result",el:W,data:{url:a.url,location:window.location.href,resultIdx:t,publishUrl:e.publishUrl,isEmbed:e.isEmbed}})});let V=c.querySelector("[data-project-search-result-image]");V&&(V.src=(G=(Z=a.cover)==null?void 0:Z.url)!=null?G:"",V.alt=`Cover for ${a.title}`);let b=c.querySelector("[data-project-search-result-swatch]");return b&&(b.style.backgroundColor=(h=(R=a.colors)==null?void 0:R.backgroundColor)!=null?h:"white"),a.cover?b==null||b.remove():V==null||V.remove(),c.querySelector(".project-match-snippet-container").innerHTML=i,c.querySelector(".project-story-title").textContent=a.title,c.querySelector(".project-story-description").textContent=((o=a.description)==null?void 0:o.length)>50?((I=a.description)==null?void 0:I.substring(0,50))+"...":a.description,n.appendChild(c),n}function O(){if(!window.hasOwnProperty("$shproject")||window.$shproject===void 0)return;let e=!1,l={create:()=>r(this,null,function*(){if(!e){e=!0;let t=window.$shproject,d=Promise.resolve(null);if(t.index)d=Promise.resolve(new T(t,t.index,{search:()=>r(this,null,function*(){return{search:()=>r(this,null,function*(){return[]})}})}));else{let a=t.publishUrl.replace(t.pageUri,""),i=Ml(a);d=i("project.js").then(()=>new T(window.$shproject,window.$shproject.index,{search:()=>r(this,null,function*(){return yield i(window.$shproject.index.manifest["project-search.js"]),window.$shproject_ext_search(a)})}))}window.Shorthand.project.get=()=>d}}),get:()=>r(this,null,function*(){return console.error("Project API is not ready yet"),null})};window.hasOwnProperty("Shorthand")?window.Shorthand.hasOwnProperty("project")||(window.Shorthand.project=l):window.Shorthand={project:l},window.Shorthand.project.get||(window.Shorthand.project.get=l.get),window.Shorthand.project.create||(window.Shorthand.project.create=l.create),window.Shorthand.project.create().catch(console.error),window.Shorthand.project.get().then(t=>{t&&(Cl(t),Hl(t),z(),El(t))}).catch(console.error)}function Ml(e){return function(t){return new Promise((d,a)=>{let i=document.createElement("script");i.src=`${e}${t}`,i.addEventListener("load",()=>{d()}),i.addEventListener("error",a),g("#article").appendChild(i)})}}function Cl(e){let l=g("[data-project-header]"),t=e.getHeaderNavigation(),d=t.option!=="D";!l||!t.isEnabled||(l.classList.remove("Theme-HeaderContainer--hidden"),Vl(e,l,t),d?Wl(e,l,t,"header"):l.querySelector(".Navigation__hamburger").remove(),cl(e,l,t),Zl(l,t,"header"))}function Hl(e){let l=g("[data-project-footer]"),t=e.getFooterNavigation();!l||!t.isEnabled||(Vl(e,l,t),Wl(e,l,t,"footer"),Zl(l,t,"footer"))}function Vl(e,l,t){var a;if(l.style.removeProperty("display"),t.color){l.style.backgroundColor=(a=t.color)==null?void 0:a.color;let i=m(".Theme-NavigationBar")[1];i&&t.color&&(i.style.backgroundColor=t.color.color),i&&t.fontColor&&Array.from(i.querySelectorAll(".Theme-NavigationBarItem")).forEach(n=>{n.style.color=t.fontColor.color})}l.classList.add(`ProjectNavigation--${t.option}`);let d=g("[data-project-logos]",l);d&&zl(e,t.logos,t.showThemeLogos,d)}function Wl(e,l,t,d){let a=l.querySelector(".Navigation");t.color&&a.classList.add(t.color.className);let i=l.querySelector("ul");t.items.forEach(n=>{var V,b,Z;let c=document.createElement("li");c.style.color=(V=t.fontColor)==null?void 0:V.color,c.className="Navigation__item Theme-NavigationBarItem";let W=document.createElement(n.url?"a":"span");if(W.className="Theme-NavigationLink",W.setAttribute("data-story-nav-item","true"),W.textContent=n.label,n.url&&Y(e,n.url,W),c.appendChild(W),i.appendChild(c),n.children.length>0){c.classList.add("hasMenu");let G=document.createElement("ul");if(G.className="Navigation__subMenu Theme-ProjectNavigation-subMenu",G.style.backgroundColor=(b=t.color)==null?void 0:b.color,G.setAttribute("role","menu"),d==="header"){let R=document.createElement("button");R.className="Navigation__button",R.style.color=(Z=t.fontColor)==null?void 0:Z.color,R.setAttribute("aria-label",`show submenu for ${n.label}`),R.addEventListener("click",function(){let o=this.parentNode;o.className.includes("isOpen")?(o.classList.remove("isOpen"),this.setAttribute("aria-expanded","false")):(o.classList.add("isOpen"),this.setAttribute("aria-expanded","true"))});let h=document.createElement("span");h.className="menuCaret",R.appendChild(h),c.addEventListener("mouseenter",function(){this.classList.add("isOpen"),R.setAttribute("aria-expanded","true")}),c.addEventListener("mouseleave",function(){this.classList.remove("isOpen"),R.setAttribute("aria-expanded","false")}),c.appendChild(R)}n.children.forEach(R=>{let h=document.createElement("li");h.className="Navigation__item Theme-NavigationBarItem Theme-ProjectNavigation-subItem",h.setAttribute("role","menuitem");let o=document.createElement("a");o.className="Theme-NavigationLink",o.textContent=R.label,Y(e,R.url,o),h.appendChild(o),G.appendChild(h)}),c.appendChild(G)}}),J(i)}function Zl(e,l,t){let d=encodeURIComponent(document.location.href),a=t==="header"?e.querySelector(".Project-Header--right .Theme-SocialIcons"):e.querySelector(".Project-Footer--right .Theme-SocialIcons");if(l.social.showTwitter){let i=JSON.parse(a.getAttribute("data-text")),n=document.createElement("span");n.className="Theme-SocialButton";let c=document.createElement("a");c.className="Theme-TwitterButton",c.href=`https://twitter.com/intent/tweet?url=${d}${i.text}${i.via}`,c.setAttribute("data-social-share","twitter"),c.setAttribute("data-testid","Header--btn-Twitter"),n.appendChild(c),a.appendChild(n)}if(l.social.showFacebook){let i=document.createElement("span");i.className="Theme-SocialButton";let n=document.createElement("a");n.className="Theme-FacebookButton Theme-FaceboookButton",n.href=`https://www.facebook.com/sharer/sharer.php?u=${d}`,n.setAttribute("data-social-share","facebook"),n.setAttribute("data-testid","Header--btn-Facebook"),i.appendChild(n),a.appendChild(i)}if(l.social.showLinkedIn){let i=document.createElement("span");i.className="Theme-SocialButton";let n=document.createElement("a");n.className="Theme-LIButton",n.href=`https://www.linkedin.com/shareArticle?mini=true&url=${d}`,n.setAttribute("data-social-share","linkedin"),n.setAttribute("data-testid","Header--btn-LinkedIn"),i.appendChild(n),a.appendChild(i)}}function kl(e){let l=e.length;for(;l>0;){let t=Math.floor(Math.random()*l);l--;let d=e[l];e[l]=e[t],e[t]=d}return e}function El(e){m("[data-related-stories]").forEach(l=>{let t=g("ul[data-related-stories-list]",l);if(t)return Sl(e,l,t);let d=g("ul[data-related-stories-site-map]",l);if(d)return jl(e,d)})}function Sl(e,l,t){var L,f,P;let d=t.getAttribute("data-page"),a=(L=t.getAttribute("data-filter"))!=null?L:"list",i=t.getAttribute("data-content-titles")!=="false",n=t.getAttribute("data-content-descriptions")!=="false",c=(f=t.getAttribute("data-sort-order"))!=null?f:"Recently published",W=t.hasAttribute("data-filter-pages")?JSON.parse(t.getAttribute("data-filter-pages")):[],V=t.hasAttribute("data-shapes")?JSON.parse(t.getAttribute("data-shapes")):{},b=t.getAttribute("data-default-shape"),Z=t.hasAttribute("data-external-links")?JSON.parse(t.getAttribute("data-external-links")):[],G=t.hasAttribute("data-item-overrides")?JSON.parse(t.getAttribute("data-item-overrides")):[],R;t.hasAttribute("data-limit")&&(R=(P=parseInt(t.getAttribute("data-limit")))!=null?P:void 0);let h=W;switch(a){case"subtree":let{relation:p,relationNodeId:s,includeSelfInList:U}=t.hasAttribute("data-filter-subtree")?JSON.parse(t.getAttribute("data-filter-subtree")):{relation:"children",relationNodeId:d,includeSelfInList:!1};h=e.getSubpageIds(p,s,d,U);break;case"tags":let F=t.hasAttribute("data-filter-tag-rule")?t.getAttribute("data-filter-tag-rule"):"any",N=t.hasAttribute("data-filter-tags")?JSON.parse(t.getAttribute("data-filter-tags")):[];h=e.getTaggedPageIds(N,F).filter(H=>H!==d);break}let o=h.map(p=>{let s=Z.find(F=>F.id===p),U=G==null?void 0:G.find(F=>F.id===p);return s?e.externalLinkToProjectPage(s):e.getProjectPage(p,U)}).filter(p=>p);switch(c){case"Recently published":o.sort((U,F)=>F.publishedAt.getTime()-U.publishedAt.getTime());break;case"A - Z":o.sort((U,F)=>U.title.localeCompare(F.title));break;case"Z - A":o.sort((U,F)=>F.title.localeCompare(U.title));break;case"Random":kl(o);break;case"Manually sorted":let p=[],s=[...o];for(let U of W){let F=o.find(N=>N.pageId===U);F&&(p.push(F),s=s.filter(N=>N.pageId!==U))}o=p.concat(s)}let I=o.slice(0,R);if(I.length===0){l.remove();return}let B=g('[data-template="item"]',t);if(!B){l.remove();return}m("[data-template]",t).forEach(p=>{p.removeAttribute("data-template"),B.remove(),B.style.removeProperty("display")});let Q=m("a[data-item-url]",B),u=m("img[data-item-media]",B),y=m("[data-item-title]",B),v=m("[data-item-description]",B),bl=m("[data-item-image]",B);I.forEach(p=>{Q.forEach(U=>{Y(e,p.url,U)}),p.cover&&(u.forEach(U=>U.setAttribute("src",p.cover.url)),u.forEach(U=>U.setAttribute("alt",`Cover image for ${p.title}`))),y.forEach(U=>{U.textContent=p.title,i||(U.style.display="none")}),v.forEach(U=>{var F;U.textContent=(F=p.description)!=null?F:"",n||(U.style.display="none")}),bl.forEach(U=>{if(V){let F=b||V[p.pageId];U.className=`crop-${F}`}}),y.forEach(U=>U.textContent=p.title),v.forEach(U=>{var F;return U.textContent=(F=p.description)!=null?F:""});let s=B.cloneNode(!0);J(s),p.cover?m("source[data-item-mediasource]",s).forEach(U=>{p.cover.sources.forEach(F=>{let N=U.cloneNode(),H=U.nextSibling;N.srcset=F.srcSet,N.type=F.type,U.parentElement.insertBefore(N,H)}),U.remove()}):m(".related-story-image",s).forEach(U=>U.remove()),t.appendChild(s)})}function jl(e,l){let t=m("[data-template]",l),d=g('[data-template="page"]',l),a=g('[data-template="node"]',l);t.forEach(n=>{n.removeAttribute("data-template"),n.remove(),n.style.removeProperty("display")});function i(n,c){var o;let W=e.index.nodes[n];if(!W)return;let V=e.index.pages[W.page];if(!V&&!W)return;let Z=(V?d:a).cloneNode(!0),G=W.page?e.getPageUrl(W.page):"",R=V?V.title:W.label;m("[data-item-title]",Z).forEach(I=>{I.textContent=R}),m("a[data-item-url]",Z).forEach(I=>{I.setAttribute("href",G)});let h=g("ul[data-item-children]",Z);h&&((o=W.children)!=null?o:[]).forEach(I=>i(I,h)),c.appendChild(Z)}e.index.roots.forEach(n=>i(n,l))}function zl(e,l,t,d){let a=m("[data-template]",d),i=g('[data-template="link"]',d),n=g('[data-template="no-link"]',d);if(!i||!n){d.remove();return}t||m("[data-themelogos]",d).forEach(W=>W.remove()),a.forEach(c=>c.remove());for(let{link:c,media:W}of l){let b=(c?i:n).cloneNode(!0),Z=Object.values(W).reduce((G,{alt:R})=>G||R,"");for(let G of m("img[data-logo-img]",b))Dl(e,G,W,Z)||G.remove();if(c)for(let G of m("a[data-logo-link]",b))Al(G,c);d.appendChild(b)}}function Dl(e,l,t,d){let a=l.getAttribute("data-logo-img");if(a in t){let{src:i,alt:n}=t[a];return l.setAttribute("src",e.publishUrl+i.replace(e.baseUrl,"")),(n||d)&&l.setAttribute("alt",n||d),!0}return!1}function Al(e,l){var d;e.setAttribute("href",l.href),l.blank&&e.setAttribute("target","_blank");let t=new Set((d=e.getAttribute("rel"))!=null?d:[]);l.noreferrer&&t.add("noreferrer"),l.nofollow&&t.add("nofollow"),t.size>0&&e.setAttribute("rels",Array.from(t).join(" "))}O();})();
/*! Bundled license information:

classnames/dedupe.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cf6e9c70-2c4a-5353-bb1b-4edd443bf88f")}catch(e){}}();
//# sourceMappingURL=project.299746.min.js.map
//# debugId=cf6e9c70-2c4a-5353-bb1b-4edd443bf88f
